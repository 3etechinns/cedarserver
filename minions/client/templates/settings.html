<template name="minionsettings">
    <div class="container">
        <h4>Minion Settings</h4>
        
        <div role="tabpanel">
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#{{_id}}-main" role="tab" data-toggle="tab">Main</a></li>
                {{#if typeIs 'media'}}
                    <li role="presentation"><a href="#{{_id}}-display" role="tab" data-toggle="tab">Display</a></li>
                {{/if}}
            </ul>
        
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="{{_id}}-main">
                    <label>Name:</label>
                    <input class="minion-name form-control" type="text" value={{name}}>

                    <label>Stage:</label>
                    <select class="minion-stage form-control">
                        <option value="{{stage}}" selected>{{titleOf stage}}</option>
                        {{#each stages}}
                            <option value="{{_id}}">{{title}}</option>
                        {{/each}}
                    </select>
                    
                    <br>
                    
                    {{#if typeIs 'media'}}
                        <label>Display Layers:</label>
                        {{#each getLayers}}
                            <p>
                                <input type="checkbox" checked={{isLayerChecked}} class="display-layer-checkbox">
                                {{this}}
                            </p>
                        {{/each}}
                        
                        <br>
                        
                        <h4>Songs:</h4>
                        
                        <label>Font:</label>
                        <input data-setting="songs_font" class="setting form-control" value={{getSetting 'songs_font'}}>
                        
                        <label>Font Size:</label>
                        <input type="number" min=0 max=200 step=1 data-setting="songs_font_size"
                            class="setting form-control" value={{getSetting 'songs_font_size'}}>
                            
                        <label>Font Weight:</label>
                        <select data-setting="songs_font_weight" class="setting form-control">
                            <option value="normal" {{isSelected 'songs_font_weight' 'normal'}}>Normal</option>
                            <option value="bold" {{isSelected 'songs_font_weight' 'bold'}}>Bold</option>
                        </select>
                            
                        <label>Font Color:</label>
                        <input type="text" data-setting="songs_font_color" class="setting form-control" value={{getSetting 'songs_font_'}}>
                        
                        <label>Font Shadow:</label>
                        <input type="number" min=0 max=10 step=1 data-setting="songs_font_shadow" class="setting form-control" value={{getSetting 'songs_font_shadow'}}>
                        
                        <label>Font Shadow Color:</label>
                        <input type="text" data-setting="songs_font_shadow_color" class="setting form-control" value={{getSetting 'songs_font_shadow_color'}}>
                        
                        <label>Align:</label>
                        <select data-setting="songs_text_align" class="setting form-control">
                            <option value="left" {{isSelected 'songs_text_align' 'left'}}>Left</option>
                            <option value="center" {{isSelected 'songs_text_align' 'center'}}>Center</option>
                            <option value="right" {{isSelected 'songs_text_align' 'right'}}>Right</option>
                        </select>
                        
                        <label>Vertical Align</label>
                        <select data-setting="songs_text_vertical_align" class="setting form-control">
                            <option value="top" {{isSelected 'songs_text_vertical_align' 'top'}}>Top</option>
                            <option value="center" {{isSelected 'songs_text_vertical_align' 'center'}}>Center</option>
                            <option value="bottom" {{isSelected 'songs_text_vertical_align' 'bottom'}}>Bottom</option>
                        </select>
                        
                        <br>
                        
                        <h4>Presentations:</h4>

                        <label>Font:</label>
                        <input data-setting="presentations_font" class="setting form-control" value={{getSetting 'presentations_font'}}>
                        
                        <label>Font Size:</label>
                        <input type="number" min=0 max=200 step=1 data-setting="presentations_font_size"
                            class="setting form-control" value={{getSetting 'presentations_font_size'}}>

                        <label>Font Weight:</label>
                        <select data-setting="presentations_font_weight" class="setting form-control">
                            <option value="normal" {{isSelected 'presentations_font_weight' 'normal'}}>Normal</option>
                            <option value="bold" {{isSelected 'presentations_font_weight' 'bold'}}>Bold</option>
                        </select>

                        <label>Font Color:</label>
                        <input type="text" data-setting="presentations_font_color" class="setting form-control" value={{getSetting 'presentations_font_color'}}>

                        <label>Font Shadow:</label>
                        <input type="number" min=0 max=10 step=1 data-setting="presentations_font_shadow" class="setting form-control" value={{getSetting 'presentations_font_shadow'}}>
                        
                        <label>Font Shadow Color:</label>
                        <input type="text" data-setting="presentations_font_shadow_color" class="setting form-control" value={{getSetting 'presentations_font_shadow_color'}}>
                                                
                        <label>Align:</label>
                        <select data-setting="presentations_text_align" class="setting form-control">
                            <option value="left" {{isSelected 'presentations_text_align' 'left'}}>Left</option>
                            <option value="center" {{isSelected 'presentations_text_align' 'center'}}>Center</option>
                            <option value="right" {{isSelected 'presentations_text_align' 'right'}}>Right</option>
                        </select>
                        
                        <label>Vertical Align</label>
                        <select data-setting="presentations_text_vertical_align" class="setting form-control">
                            <option value="flex-start" {{isSelected 'presentations_text_vertical_align' 'flex-start'}}>Top</option>
                            <option value="center" {{isSelected 'presentations_text_vertical_align' 'center'}}>Center</option>
                            <option value="flex-end" {{isSelected 'presentations_text_vertical_align' 'flex-end'}}>Bottom</option>
                        </select>
                        
                        <label>Custom CSS</label>
                        <textarea data-setting="presentations_custom_css" class="setting form-control">{{getSetting 'presentations_custom_css'}}</textarea>
                        
                        <br>
                        
                        <div class="well well-sm">
                            <p><a href={{pathFor 'webminionmedia' _id}}>Launch Web Minion</a></p>
                            <p>Direct link: <pre>{{urlFor 'webminionmedia' _id}}</pre></p>
                        </div>
                    {{/if}}
                </div>
                
                {{#if typeIs 'media'}}
                    <div role="tabpanel" class="tab-pane" id="{{_id}}-display">{{> minionsettingsdisplay}}</div>
                {{/if}}
            </div>
        
            <button class="minion-settings-delete btn btn-danger">Delete</button>
            <button class="minion-settings-save btn btn-primary pull-right">Save</button>
            <button class="minion-settings-cancel btn pull-right">Cancel</button>                       
        </div>
    </div>

    <div class="delete-modal modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Confirm Delete</h4>
                </div>
                
                <div class="modal-body">
                    <div class="alert alert-danger"><p>The minion <b>"{{name}}"</b> will be permanently deleted.</p></div>
                </div>
                
                <div class="modal-footer">
                    <button class="minion-delete-cancel btn">Cancel</button>
                    <button class="minion-delete-confirm btn btn-danger">Delete</button>
                </div>
            </div>
        </div>
    </div>                    
</template>
